@page "/"
@using Data.Models.Interfaces
@using Data.Models


@inject IBlogApi _api
@inject Data.UnitOfWork.IUnitOfWork UnitOfWork

<h2>Blog Posts ici</h2>
<ul>
    @foreach (var p in posts)
    {
        <li>@p.Title</li>
    }
</ul>

@code {
    protected List<BlogPost> posts = new();
    protected override async Task OnInitializedAsync()
    {
        // posts = await _api.GetBlogPostsAsync(10, 0);
        posts = (await UnitOfWork.BlogPosts.GetAllAsync()).ToList();
        await base.OnInitializedAsync();
    }
}
